<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Recent Appointments - EthioGov Public Service</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
* {margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;}
body {background-color:#f5f5f5; color:#333; min-height:100vh; display:flex; flex-direction:column;}
header { position: fixed; width: 100%; height: 50px; background: linear-gradient(135deg,#2D5F84 0%,#1E3A5F 100%); color:white; padding:1rem 2rem; display:flex; justify-content:space-between; align-items:center; box-shadow:0 2px 10px rgba(0,0,0,0.2);}
.logo {display:flex; align-items:center; gap:15px;}
.logo-img {width:50px; height:50px; background-color:#FFD700; border-radius:50%; display:flex; justify-content:center; align-items:center; font-weight:bold; font-size:20px;}
.logo-text {font-size:1.5rem; font-weight:bold;}
.back-btn {background: rgba(255,255,255,0.2); border:none; color:white; padding:0.5rem 1rem; border-radius:5px; cursor:pointer; display:flex; align-items:center; gap:8px; transition: background 0.3s;}
.back-btn:hover {background: rgba(255,255,255,0.3);}
main {flex:1; padding:2rem; max-width:1000px; margin:0 auto; width:100%;}
.page-title {text-align:center; color:#1E3A5F; margin-bottom:2rem; font-size:2rem;}
.appointments-container {display:flex; flex-direction:column; gap:1.5rem;}
.appointment-card {background:white; border-radius:10px; padding:1.5rem; box-shadow:0 5px 15px rgba(0,0,0,0.1); display:flex; flex-direction:column; gap:1rem;}
.appointment-header {display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:1rem;}
.appointment-title {font-size:1.2rem; font-weight:600; color:#1E3A5F;}
.appointment-status {padding:0.3rem 0.8rem; border-radius:20px; font-size:0.8rem; font-weight:600;}
.status-confirmed {background-color:#E8F5E9; color:#2E7D32;}
.status-pending {background-color:#FFF8E1; color:#F57C00;}
.status-completed {background-color:#E3F2FD; color:#1565C0;}
.status-cancelled {background-color:#FFEBEE; color:#C62828;}
.appointment-details {display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:1rem;}
.detail-item {display:flex; flex-direction:column; gap:0.3rem;}
.detail-label {font-size:0.8rem; color:#666;}
.detail-value {font-weight:500;}
.empty-state {text-align:center; padding:3rem; background:white; border-radius:10px; box-shadow:0 5px 15px rgba(0,0,0,0.1);}
.empty-icon {font-size:3rem; color:#ccc; margin-bottom:1rem;}
.empty-text {color:#666; margin-bottom:1.5rem;}
.btn {display:inline-block; background:#2D5F84; color:white; padding:0.8rem 1.5rem; border:none; border-radius:5px; text-decoration:none; font-weight:bold; cursor:pointer; transition:background 0.3s; font-size:1rem;}
.btn:hover {background:#1E3A5F;}
footer {background:#1E3A5F; color:white; padding:2rem 1rem; text-align:center;}
.footer-nav {display:flex; justify-content:center; gap:2rem; margin-bottom:1.5rem;}
.footer-nav a {color:white; text-decoration:none; display:flex; flex-direction:column; align-items:center; gap:0.5rem;}
.footer-nav i {font-size:1.5rem;}
@media (max-width:768px){.logo-text{font-size:1.2rem;}.page-title{font-size:1.8rem;}.appointment-header{flex-direction:column; align-items:flex-start;}.footer-nav{flex-wrap:wrap; gap:1.5rem;}}
@media (max-width:480px){header{padding:1rem;}main{padding:1rem;}.logo-text{font-size:1rem;}.back-btn span{display:none;}.back-btn{padding:0.6rem;}.appointment-details{grid-template-columns:1fr;}}
</style>
</head>
<body>

<header>
<div class="logo"><div class="logo-img">EG</div><div class="logo-text">EthioGov Public Service</div></div>
<button class="back-btn" onclick="window.history.back()"><i class="fas fa-arrow-left"></i><span>Back</span></button>
</header>

<main>
<h1 class="page-title">Recent Appointments</h1>
<div class="appointments-container" id="appointmentsList"></div>
</main>

<footer>
<div class="footer-nav">
<a href="index.html"><i class="fas fa-home"></i><span>Home</span></a>
<a href="recent.html" class="active"><i class="fas fa-history"></i><span>Recent</span></a>
<a href="app.html"><i class="fas fa-calendar"></i><span>Appointments</span></a>
<a href="profile.html"><i class="fas fa-user"></i><span>Profile</span></a>

</div>
<div class="copyright">&copy; 2023 EthioGov Public Service Portal. All rights reserved.</div>
</footer>

<script>
// Function to format date
function formatDisplayDate(dateString){
    const options={year:'numeric',month:'long',day:'numeric'};
    return new Date(dateString).toLocaleDateString('en-US',options);
}

// Render appointments from array
function renderAppointments(appointments){
    const container=document.getElementById('appointmentsList');
    if(!appointments || appointments.length===0){
        container.innerHTML=`<div class="empty-state">
        <div class="empty-icon"><i class="far fa-calendar-alt"></i></div>
        <h3 class="empty-text">No appointments found</h3>
        <p>You haven't made any appointments yet.</p>
       
        </div>`;
        return;
    }
    container.innerHTML='';
    appointments.forEach(app=>{
        const statusClass=`status-${app.status}`;
        const statusText=app.status.charAt(0).toUpperCase()+app.status.slice(1);
        const card=document.createElement('div');
        card.className='appointment-card';
        card.innerHTML=`<div class="appointment-header">
            <h3 class="appointment-title">${app.service}</h3>
            <span class="appointment-status ${statusClass}">${statusText}</span>
        </div>
        <div class="appointment-details">
            <div class="detail-item"><span class="detail-label">Date & Time</span><span class="detail-value">${formatDisplayDate(app.date)}, ${app.time}</span></div>
            <div class="detail-item"><span class="detail-label">Sub-City</span><span class="detail-value">${app.subCity}</span></div>
            <div class="detail-item"><span class="detail-label">Office Address</span><span class="detail-value">${app.officeAddress}</span></div>
            <div class="detail-item"><span class="detail-label">Reference No.</span><span class="detail-value">${app.referenceNumber}</span></div>
        </div>`;
        container.appendChild(card);
    });
}

// Fetch from LocalStorage (or backend later)
function fetchAppointments(){
    // Retrieve bookings from localStorage
    const stored=localStorage.getItem('bookings');
    const appointments=stored ? JSON.parse(stored) : [];
    renderAppointments(appointments);
}

// Initialize page
document.addEventListener('DOMContentLoaded',fetchAppointments);
</script>

</body>
</html>
